# 皇帝提示词生成器

AI 驱动的皇帝数据管理工具，用于自动生成、管理和评估皇帝提示词。

## 功能特性

### 🤖 AI 自动生成新皇帝
- 输入皇帝名称和难度等级
- AI 自动生成完整的皇帝数据（基本信息 + 15个提示词）
- 支持手动编辑和调整
- 一键同步到 Firebase 云端

### ➕ 为已有皇帝添加提示词
- 从云端选择已有皇帝
- AI 智能生成不重复的提示词
- 自动避免与现有提示词冲突
- 实时同步到云端

### 🔍 评估提示词质量
- AI 自动评估提示词的难度合理性
- 检查历史准确性
- 提供改进建议和修正方案
- 一键应用修正

### ✏️ 编辑管理
- 修改、删除、添加提示词
- 调整提示词难度和顺序
- 批量操作支持

## 快速开始

### 1. 配置文件设置

复制 `config.example.js` 为 `config.js`：

```bash
copy config.example.js config.js
```

编辑 `config.js`，填入你的配置：

```javascript
const CONFIG = {
    // 设置你的管理员密码
    ADMIN_PASSWORD: "your-password-here",
    
    // 填入你的 Google Gemini API Key
    GEMINI_API_KEY: "your-gemini-api-key-here",
    
    // Firebase 配置已预填，无需修改
    FIREBASE_CONFIG: { ... }
};
```

### 2. 获取 Google Gemini API Key

1. 访问 [Google AI Studio](https://makersuite.google.com/app/apikey)
2. 登录你的 Google 账号
3. 点击 "Create API Key"
4. 复制生成的 API Key
5. 粘贴到 `config.js` 的 `GEMINI_API_KEY` 字段

### 3. 运行工具

直接在浏览器中打开 `index.html` 文件即可使用。

⚠️ **注意**：此工具仅在本地使用，不要上传到 GitHub！

## 使用指南

### 标签页1：生成新皇帝

1. 输入皇帝名称（例如：刘彻）
2. 选择难度等级（简单/中等/困难）
3. 点击"AI 生成"按钮
4. 等待 AI 生成完整数据
5. 检查并编辑生成的内容
6. 点击"同步到云端"保存

### 标签页2：添加提示词

1. 从下拉列表选择已有皇帝
2. 点击"加载"查看现有提示词
3. 选择要添加的提示词难度
4. 点击"AI 生成提示词"
5. 检查生成的提示词
6. 点击"添加到列表"保存

### 标签页3：评估提示词

1. 从下拉列表选择皇帝
2. 点击"开始评估"
3. 查看 AI 的评估结果
4. 点击"应用所有修正"自动修正问题
5. 点击"同步到云端"保存修改

### 标签页4：编辑管理

1. 从下拉列表选择皇帝
2. 点击"加载数据"
3. 手动编辑提示词
4. 点击"保存更改"同步到云端

## 提示词难度标准

### 困难难度（6个）
- 具有迷惑性，多个皇帝符合条件
- 例：他的太子卷入宫廷巫术阴谋，导致父子反目，自杀身亡
- 宽泛描述
- 例：他是大一统王朝的皇帝
- 关于身边的人
- 例：他的幼子继位时年仅8岁，由一位权臣辅政直至曾孙时代

### 中等难度（5个）
- 所指皇帝极少或唯一
- 知识点较生僻，不是所有人都知道
- 例：他在位期间设立了察举制度

### 简单难度（4个）
- 广为人知的知识点
- 提到这个皇帝第一个想到的事件
- 例：他开创了文景之治（汉文帝）

## 安全提示

### ⚠️ 重要安全事项

1. **永远不要上传 config.js 到 GitHub**
   - config.js 已被添加到 .gitignore
   - 包含敏感的 API Key 和密码

2. **定期更换密码**
   - 建议每月更换一次管理员密码

3. **保护 API Key**
   - 不要在公开场合分享你的 API Key
   - 如果泄露，立即在 Google AI Studio 删除并重新生成

4. **本地使用**
   - 此工具仅供本地使用
   - 不要部署到公开的网站

## API 使用限制

### Google Gemini 免费额度
- 每分钟 15 次请求
- 每天 1500 次请求
- 如果超限，请等待一段时间后重试

## 故障排除

### 问题：无法登录
- 检查 config.js 是否存在
- 确认密码是否正确
- 查看浏览器控制台是否有错误

### 问题：AI 生成失败
- 检查 Gemini API Key 是否正确
- 确认网络连接正常
- 查看是否超过 API 使用限制

### 问题：无法同步到云端
- 检查 Firebase 配置是否正确
- 确认网络连接正常
- 查看浏览器控制台的错误信息

## 技术架构

- **前端**：HTML5 + CSS3 + Vanilla JavaScript
- **AI**：Google Gemini API
- **数据库**：Firebase Realtime Database
- **认证**：简单密码验证

## 文件结构

```
hint-generator/
├── index.html              # 主页面
├── styles.css              # 样式文件
├── config.example.js       # 配置文件示例
├── config.js              # 实际配置（不上传）
├── .gitignore             # Git 忽略文件
├── README.md              # 说明文档
└── js/
    ├── app.js             # 主应用逻辑
    ├── auth.js            # 认证模块
    ├── firebase-manager.js # Firebase 管理
    ├── gemini-api.js      # Gemini API 封装
    └── ui-manager.js      # UI 管理
```

## 更新日志

### v1.0.0 (2026-02-06)
- ✅ 初始版本发布
- ✅ AI 自动生成新皇帝功能
- ✅ 为已有皇帝添加提示词
- ✅ 提示词质量评估
- ✅ 编辑管理功能
- ✅ 密码保护
- ✅ Firebase 云端同步

## 支持

如有问题，请检查：
1. 浏览器控制台的错误信息
2. config.js 配置是否正确
3. API Key 是否有效
4. 网络连接是否正常

---

**开发者**：Kiro AI Assistant  
**版本**：1.0.0  
**最后更新**：2026-02-06
